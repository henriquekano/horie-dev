<HTML>
<HEAD>
<META name=vsisbn content="0471503363">
<META name=vstitle content="Art of Computer Systems Performance Analysis Techniques For Experimental Design Measurements Simulation And Modeling">
<META name=vsauthor content="Raj Jain">
<META name=vsimprint content="Wiley Computer Publishing">
<META name=vspublisher content="John Wiley & Sons, Inc.">
<META name=vspubdate content="05/01/91">
<META name=vscategory content="Web and Software Development: Software Engineering: Simulation and Modeling">







<TITLE>The Art of Computer Systems Performance Analysis: Techniques for Experimental Design, Measurement, Simulation, and Modeling:Analysis of Simulation Results</TITLE>

<!-- HEADER -->

<STYLE type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
</STYLE>

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">

<!--ISBN=0471503363//-->
<!--TITLE=The Art of Computer Systems Performance Analysis: Techniques for Experimental Design, Measurement, Simulation, and Modeling//-->
<!--AUTHOR=Raj Jain//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=25//-->
<!--PAGES=430-433//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="25-05.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="25-07.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>This formula is valid only if the observations are independent. Unfortunately, the observations in most simulations are <I>not</I> independent. For example, in a queueing simulation, if the waiting time for the <I>i</I>th job is large, the waiting time for the (<I>i</I> &#43; 1)th job would be large too and vice versa. In this case, the successive waiting times are highly correlated, and the preceding formula cannot be used to estimate the variance of the mean waiting time. For correlated observations, the variance of the mean may be several times larger than that obtained from the formula. In one extreme case, the actual variance was 300 times that obtained computed using the formula. Ignoring this fact may result in narrow confidence intervals and premature termination of simulation.</P>
<P>Statisticians have developed a number of methods to correctly compute the variance of the mean of correlated observations. Three such methods are as follows:</P>
<DL>
<DD><B>&#149;</B>&nbsp;&nbsp;Independent replications
<DD><B>&#149;</B>&nbsp;&nbsp;Batch means
<DD><B>&#149;</B>&nbsp;&nbsp;Regeneration
</DL>
<P>Of these, the first two methods are similar to those described earlier under transient removal.
</P>
<H4 ALIGN="LEFT"><A NAME="Heading27"></A><FONT COLOR="#000077">25.5.1 Independent Replications</FONT></H4>
<P>Recall from Section 25.3 that replications are obtained by repeating the simulation with a different seed value. This method is based on the assumption that the means of independent replications are independent even though observations in a single replication are correlated.
</P>
<P>The method consists of conducting <I>m</I> replications of size <I>n</I> &#43; <I>n<SUB><SMALL>0</SMALL></SUB></I> each, where <I>n</I><SUB><SMALL>0</SMALL></SUB> is the length of transient phase. The first <I>n</I><SUB><SMALL>0</SMALL></SUB> observations of each replication are discarded. The remaining steps are as follows:</P>
<DL>
<DD><B>1.</B>&nbsp;&nbsp;Compute a mean for each replication:
<P ALIGN="CENTER"><IMG SRC="images/25-16d.jpg"></P>
</IMGD>
<DD><B>2.</B>&nbsp;&nbsp;Compute an overall mean for all replications:
<P ALIGN="CENTER"><IMG SRC="images/25-17d.jpg"></P>
</IMGD>
<DD><B>3.</B>&nbsp;&nbsp;Calculate the variance of replicate means:
<P ALIGN="CENTER"><IMG SRC="images/25-18d.jpg"></P>
</IMGD>
</DL>
<P>The confidence interval for the mean response is<SUP><SMALL><B>*</B></SMALL></SUP></P>

<BLOCKQUOTE>
<HR>
<SUP><SMALL><B>*</B></SMALL></SUP><FONT SIZE="-1">Throughout this section, use t<SMALL><SUB><SMALL>[1-&#8734;/2;m-1]</SMALL></SUB></SMALL> in place of <I>z</I><SMALL><SUB><SMALL>1-&#8734;/2</SMALL></SUB></SMALL> if <I>m</I> is less than 30 as explained in section 13.2
</FONT>
<HR>
</BLOCKQUOTE>

<P ALIGN="CENTER"><IMG SRC="images/25-19d.jpg"></P>
</IMGD>
<P>Notice that this method requires discarding <I>mn</I><SUB><SMALL>0</SMALL></SUB> initial observations. Further, the confidence interval width is inversely proportional to <IMG SRC="images/25-05i.jpg"></IMGI>. Thus, a narrower confidence interval can be obtained equally well by increasing either <I>m</I> or <I>n</I>. However, to reduce the waste (<I>mn</I><SUB><SMALL>0</SMALL></SUB> initial observations), it is suggested that <I>m</I> be kept fairly small, for example, 10. The length of replications <I>n</I> should be increased to obtain the desired confidence.</P>
<H4 ALIGN="LEFT"><A NAME="Heading28"></A><FONT COLOR="#000077">25.5.2 Batch Means</FONT></H4>
<P>The method of batch means, also called <B>method of subsamples</B>, consists of running a long simulation run, discarding the initial transient interval, and dividing the remaining observations run into several batches or subsamples.</P>
<P>Given a long run of <I>N</I> &#43; <I>n</I><SUB><SMALL>0</SMALL></SUB> observations, where <I>n</I><SUB><SMALL>0</SMALL></SUB> is the number of observations that belong to the transient interval and are discarded, the remaining <I>N</I> observations are divided into <I>m</I> = [<I>N</I>/<I>n</I>] batches of <I>n</I> observations each. Start with a small value of <I>n</I>, for example, <I>n</I> = 1, and proceed as follows:</P>
<DL>
<DD><B>1.</B>&nbsp;&nbsp;Compute means for each batch:
<P ALIGN="CENTER"><IMG SRC="images/25-20d.jpg"></P>
</IMGD>
<DD><B>2.</B>&nbsp;&nbsp;Compute an overall mean:
<P ALIGN="CENTER"><IMG SRC="images/25-21d.jpg"></P>
</IMGD>
<DD><B>3.</B>&nbsp;&nbsp;Calculate the variance of batch means:
<P ALIGN="CENTER"><IMG SRC="images/25-22d.jpg"></P>
</IMGD>
</DL>
<P>The confidence interval for the mean response is
</P>
<P ALIGN="CENTER"><IMG SRC="images/25-23d.jpg"></P>
</IMGD>
<P>Notice that the computation is essentially the same as it is in the method of independent replications. However, the method of batch means incurs less waste. Only <I>n</I><SUB><SMALL>0</SMALL></SUB> observations are discarded. The confidence interval width is again inversely proportional to <IMG SRC="images/25-06i.jpg"></IMGI>, and it can be reduced by increasing either the number of batches <I>m</I> or the batch size <I>n</I>. The batch size <I>n</I> must be large so that the batch means have little correlation. One way to find correct <I>n</I> is to compute the covariance of successive batch means:</P>
<P ALIGN="CENTER"><IMG SRC="images/25-24d.jpg"></P>
</IMGD>
<P>This quantity is also called the <B>autocovariance</B>. The prefix <I>auto</I> denotes that the fact that both random variables <IMG SRC="images/25-07i.jpg"></IMGI> and <IMG SRC="images/25-08i.jpg"></IMGI> are members of the same set.</P>
<P>The preceding analysis is repeated with increasing values of batch size <I>n</I> until the autocovariance of the batch means is small compared to their variance.</P>
<CENTER>
<TABLE WIDTH="75%"><TH CAPTION ALIGN="LEFT" COLSPAN="3">TABLE 25.1 Autocovarlance and Variance for Various Batch Sizes
<TR>
<TD COLSPAN="3"><HR>
<TR>
<TH WIDTH="30%" ALIGN="LEFT">Batch Size
<TH WIDTH="25%" ALIGN="CENTER">Autocovariance
<TH ALIGN="CENTER">Variance
<TR>
<TD COLSPAN="3"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">1
<TD VALIGN="TOP" ALIGN="CENTER">-0.18792
<TD VALIGN="TOP" ALIGN="CENTER">1.79989
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">2
<TD VALIGN="TOP" ALIGN="CENTER">0.02643
<TD VALIGN="TOP" ALIGN="CENTER">0.81173
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">4
<TD VALIGN="TOP" ALIGN="CENTER">0.11024
<TD VALIGN="TOP" ALIGN="CENTER">0.42003
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">8
<TD VALIGN="TOP" ALIGN="CENTER">0.08979
<TD VALIGN="TOP" ALIGN="CENTER">0.26437
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">16
<TD VALIGN="TOP" ALIGN="CENTER">0.04001
<TD VALIGN="TOP" ALIGN="CENTER">0.17650
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">32
<TD VALIGN="TOP" ALIGN="CENTER">0.01108
<TD VALIGN="TOP" ALIGN="CENTER">0.10833
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">64
<TD VALIGN="TOP" ALIGN="CENTER">0.00010
<TD VALIGN="TOP" ALIGN="CENTER">0.06066
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">128
<TD VALIGN="TOP" ALIGN="CENTER">-0.00378
<TD VALIGN="TOP" ALIGN="CENTER">0.02992
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">256
<TD VALIGN="TOP" ALIGN="CENTER">0.00027
<TD VALIGN="TOP" ALIGN="CENTER">0.01133
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">512
<TD VALIGN="TOP" ALIGN="CENTER">0.00069
<TD VALIGN="TOP" ALIGN="CENTER">0.00503
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">1024
<TD VALIGN="TOP" ALIGN="CENTER">0.00078
<TD VALIGN="TOP" ALIGN="CENTER">0.00202
<TR>
<TD COLSPAN="3"><HR>
</TABLE>
</CENTER>
<P>One alternative is to start with a small <I>n</I>, for instance, <I>n</I> = 1, and successively double <I>n</I>.</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="25-05.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="25-07.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>

<hr width="90%" size="1" noshade>
<div align="center">
<font face="Verdana,sans-serif" size="1">Copyright &copy; <a href="/reference/wiley00001.html">John Wiley &amp; Sons, Inc.</a></font>
</div>
<!-- all of the reference materials (books) have the footer and subfoot reveresed -->
<!-- reference_subfoot = footer -->
<!-- reference_footer = subfoot -->

</BODY>
</HTML>

<!-- END FOOTER -->

