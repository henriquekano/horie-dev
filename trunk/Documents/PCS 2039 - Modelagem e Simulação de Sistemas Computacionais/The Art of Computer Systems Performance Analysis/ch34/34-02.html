<HTML>
<HEAD>
<META name=vsisbn content="0471503363">
<META name=vstitle content="Art of Computer Systems Performance Analysis Techniques For Experimental Design Measurements Simulation And Modeling">
<META name=vsauthor content="Raj Jain">
<META name=vsimprint content="Wiley Computer Publishing">
<META name=vspublisher content="John Wiley & Sons, Inc.">
<META name=vspubdate content="05/01/91">
<META name=vscategory content="Web and Software Development: Software Engineering: Simulation and Modeling">







<TITLE>The Art of Computer Systems Performance Analysis: Techniques for Experimental Design, Measurement, Simulation, and Modeling:Mean-Value Analysis and Related Techniques</TITLE>

<!-- HEADER -->

<STYLE type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
</STYLE>

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">

<!--ISBN=0471503363//-->
<!--TITLE=The Art of Computer Systems Performance Analysis: Techniques for Experimental Design, Measurement, Simulation, and Modeling//-->
<!--AUTHOR=Raj Jain//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=34//-->
<!--PAGES=572-575//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="34-01.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="34-03.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Notice that the utilization of the delay center represents the mean number of jobs receiving service and does not need to be less than 1.
</P>
<P>All equations to analyze open systems are summarized in Box 34.1.</P>
<DL>
<DD><B>Example 34.1</B> Figure 32.1 shown earlier represents a queueing model of a file server consisting of a CPU and two disks, A and B. Measurements on a distributed system with six clients systems making requests to the file server produced the following data:
</DL>
<DL>
<DD>Observation interval = 3600 seconds
<DD>Number of client requests = 10,800
<DD>CPU busy time = 1728 seconds
<DD>Disk A busy time = 1512 seconds
<DD>Disk B busy time = 2592 seconds
<DD>Number of visits (I/O requests) to disk A = 75,600
<DD>Number of visits (I/O requests) to disk B = 86,400
</DL>
<P>Based on these observations, we can compute the service demands and visit ratios as follows:
</P>
<DL>
<DD><I>X</I> = throughput = 10,800/3600 = 3 client requests per second
<DD><I>V</I><SUB><I><SMALL>A</SMALL></I></SUB> = 75,600/10,800 = 7 visits per client request to disk A
<DD><I>V</I><SUB><I><SMALL>B</SMALL></I></SUB> = 86,400/10,800 = 8 visits per client request to disk B
<DD><I>V</I><SUB><SMALL>CPU</SMALL></SUB> 1 &#43; 7 &#43; 8 = 16 visits per client requests to CPU
<DD><I>D</I><SUB><SMALL>CPU</SMALL></SUB> 1728/10,800 = 0.16 second of CPU time per client request
<DD><I>D</I><SUB><I><SMALL>A</SMALL></I></SUB> = 1512/10,800 = 0.14 second of disk A time per client request
<DD><I>D</I><SUB><I><SMALL>B</SMALL></I></SUB> = 2592/10,800 = 0.24 second of disk B time per client request
<DD><I>S</I><SUB><SMALL>CPU</SMALL></SUB> = 0.16/16 = 0.01 second per visit to CPU
<DD><I>S</I><SUB><I><SMALL>A</SMALL></I></SUB> = 0.14/7 = 0.02 second per visit to disk A
<DD><I>S</I><SUB><I><SMALL>B</SMALL></I></SUB> = 0.24/8 = 0.03 second per visit to disk B
</DL>
<P>We now have all the input parameters required to analyze the system.
</P>
<P>Device utilizations using the utilization law are</P>
<DL>
<DD><I>U</I><SUB><SMALL>CPU</SMALL></SUB> = <I>XD</I><SUB><SMALL>CPU</SMALL></SUB> = 3 &#215; 0.16 = 0.48
<DD><I>U</I><SUB><I><SMALL>A</SMALL></I></SUB> = <I>XD</I><SUB><I><SMALL>A</SMALL></I></SUB> = 3 &#215; 0.14 = 0.42
<DD><I>U</I><SUB><I><SMALL>B</SMALL></I></SUB> = <I>XD</I><SUB><I><SMALL>B</SMALL></I></SUB> = 3 &#215; 0.24 = 0.72
</DL>
<P>The device response times using Equation (34.2) are
</P>
<P ALIGN="CENTER"><I>R</I><SUB><SMALL>CPU</SMALL></SUB> = <I>S</I><SUB><SMALL>CPU</SMALL></SUB>/(1 &#150; <I>U</I><SUB><SMALL>CPU</SMALL></SUB>) = 0.01/(1 &#150; 0.48) = 0.0192 second</P>
<P ALIGN="CENTER"><I>R</I><SUB><I><SMALL>A</SMALL></I></SUB> = <I>S</I><SUB><I><SMALL>A</SMALL></I></SUB>/(1 &#150; <I>U</I><SUB><I><SMALL>A</SMALL></I></SUB>) = 0.02/(1 &#150; 0.42) = 0.0345 second</P>
<P ALIGN="CENTER"><I>R</I><SUB><I><SMALL>B</SMALL></I></SUB> = <I>S</I><SUB><I><SMALL>B</SMALL></I></SUB>/(1 &#150; <I>U</I><SUB><I><SMALL>B</SMALL></I></SUB>) = 0.03/(1 &#150; 0.72) = 0.107 second</P>
<P>Server response time <I>R</I> = <IMG SRC="images/34-04i.jpg"></IMGI> = 16 &#215; 0.0192 &#43; 7 &#215; 0.0345 &#43; 8 &#215; 0.107</P>
<P ALIGN="CENTER">= 1.406 seconds</P>
<P>The model can be used to answer some of the typical questions. For example, we might want to quantify the impact of the following changes:</P>
<DL>
<DD><B>1.</B>&nbsp;&nbsp;Increase the number of clients to 8.
<DD><B>2.</B>&nbsp;&nbsp;Use a cache for disk B with a hit rate of 50%, although it increases the CPU overhead by 30% and the disk B service time (per I/O) by 10%.
<DD><B>3.</B>&nbsp;&nbsp;Have a lower cost server with only one disk (disk A) and direct all I/O requests to it.
</DL>
<P>The first question can be answered if we assume that the new clients make requests similar to those measured. The request arrival rate will go up by a factor of <IMG SRC="images/34-05i.jpg"></IMGI>. Since the arrival rate was three requests per second, with more clients it will become four requests per second. The new analysis is as follows:</P>
<DL>
<DD><I>X</I> = 4 requests/second
<DD><I>U</I><SUB><SMALL>CPU</SMALL></SUB> = <I>XD</I><SUB><SMALL>CPU</SMALL></SUB> = 4 &#215; 0.16 = 0.64
<DD><I>U</I><SUB><I><SMALL>A</SMALL></I></SUB> = <I>XD</I><SUB><I><SMALL>A</SMALL></I></SUB> = 4 &#215; 0.14 = 0.56
<DD><I>U</I><SUB><I><SMALL>B</SMALL></I></SUB> = <I>XD</I><SUB><I><SMALL>B</SMALL></I></SUB> = 4 &#215; 0.24 = 0.96
<DD><I>R</I><SUB><SMALL>CPU</SMALL></SUB> = <I>S</I><SUB><SMALL>CPU</SMALL></SUB>/(1 &#150; <I>U</I><SUB><SMALL>CPU</SMALL></SUB>) = 0.01/(1 &#150; 0.64) = 0.0278 second
<DD><I>R</I><SUB><I><SMALL>A</SMALL></I></SUB> = <I>S</I><SUB><I><SMALL>A</SMALL></I></SUB>/(1 &#150; <I>U</I><SUB><I><SMALL>A</SMALL></I></SUB>) = 0.02/(1 &#150; 0.56) = 0.0455 second
<DD><I>R</I><SUB><I><SMALL>B</SMALL></I></SUB> = <I>S</I><SUB><I><SMALL>B</SMALL></I></SUB>/(1 &#150; <I>U</I><SUB><I><SMALL>B</SMALL></I></SUB>) = 0.03/(1 &#150; 0.96) = 0.75 second
<DD><I>R</I> = 16 &#215; 0.0278 &#43; 7 &#215; 0.0455 &#43; 8 &#215; 0.75 = 6.76 seconds
</DL>
<P>Thus, if the number of clients is increased from 6 to 8, the server response time will degrade by a factor of 6.76/1.406 = 4.8.
</P>
<P>The second question requires changing <I>V</I><SUB><I><SMALL>B</SMALL></I></SUB>, <I>S</I><SUB><SMALL>CPU</SMALL></SUB>, and <I>S</I><SUB><I><SMALL>B</SMALL></I></SUB> as follows:</P>
<DL>
<DD><I>V</I><SUB><I><SMALL>B</SMALL></I></SUB> = 0.5 &#215; 8 = 4
<DD><I>S</I><SUB><SMALL>CPU</SMALL></SUB> = 1.3 &#215; 0.01 = 0.013 &#8658; <I>D</I><SUB><SMALL>CPU</SMALL></SUB> = 0.208 second
<DD><I>S</I><SUB><I><SMALL>B</SMALL></I></SUB> = 1.1 &#215; 0.03 = 0.033 &#8658; <I>D</I><SUB><I><SMALL>B</SMALL></I></SUB> = 4 &#215; 0.033 = 0.132 second
</DL>
<P>The analysis of the changed systems is as follows:
</P>
<DL>
<DD><I>U</I><SUB><SMALL>CPU</SMALL></SUB> = <I>XD</I><SUB><SMALL>CPU</SMALL></SUB> = 3 &#215; 0.208 = 0.624
<DD><I>U</I><SUB><I><SMALL>A</SMALL></I></SUB> = <I>XD</I><SUB><I><SMALL>A</SMALL></I></SUB> = 3 &#215; 0.14 = 0.42
<DD><I>U</I><SUB><I><SMALL>B</SMALL></I></SUB> = <I>XD</I><SUB><I><SMALL>B</SMALL></I></SUB> = 3 &#215; 0.132 = 0.396
<DD><I>R</I><SUB><SMALL>CPU</SMALL></SUB> = <I>S</I><SUB><SMALL>CPU</SMALL></SUB>/(1 &#150; <I>U</I><SUB><SMALL>CPU</SMALL></SUB>) = 0.013/(1 &#150; 0.624) = 0.0346 second
<DD><I>R</I><SUB><I><SMALL>A</SMALL></I></SUB> = <I>S</I><SUB><I><SMALL>A</SMALL></I></SUB>(1 &#150; <I>U</I><SUB><I><SMALL>A</SMALL></I></SUB>) = 0.02/(1 &#150; 0.42) = 0.0345 second
<DD><I>R</I><SUB><I><SMALL>B</SMALL></I></SUB> = <I>S</I><SUB><I><SMALL>B</SMALL></I></SUB>/(1 &#150; <I>U</I><SUB><I><SMALL>B</SMALL></I></SUB>) = 0.033/(1 &#150; 0.396) = 0.0546 second
<DD><I>R</I> = 16 &#215; 0.0346 &#43; 7 &#215; 0.0345 &#43; 4 &#215; 0.0546 = 1.013 seconds
</DL>
<P>Thus, if we use a cache for disk B, the server response time will improve by (1.406 &#150; 1.013)/1.406 = 28%.
</P>
<P>The third question requires adjusting <I>V</I><SUB><I><SMALL>A</SMALL></I></SUB> and <I>V</I><SUB><I><SMALL>B</SMALL></I></SUB>. We assume that there is enough space on disk A to be able to accommodate all files on both disks. The analysis is as follows:</P>
<DL>
<DD><I>V</I><SUB><I><SMALL>B</SMALL></I></SUB> = 0
<DD><I>V</I><SUB><I><SMALL>A</SMALL></I></SUB> = 7 &#43; 8 = 15
<DD><I>D</I><SUB><SMALL>CPU</SMALL></SUB> = 0.16 second (as before)
<DD><I>D</I><SUB><I><SMALL>A</SMALL></I></SUB> = 15 &#215; 0.02 = 0.3 second
<DD><I>U</I><SUB><I><SMALL>CPU</SMALL></I></SUB> = <I>XD</I><SUB><SMALL>CPU</SMALL></SUB> = 3 &#215; 0.16 = 0.48
<DD><I>U</I><SUB><I><SMALL>A</SMALL></I></SUB> = <I>XD</I><SUB><I><SMALL>A</SMALL></I></SUB> = 3 &#215; 0.3 = 0.90
<DD><I>R</I><SUB><SMALL>CPU</SMALL></SUB> = <I>S</I><SUB><SMALL>CPU</SMALL></SUB>/(1 &#150; <I>U</I><SUB><SMALL>CPU</SMALL></SUB>) = 0.01/(1 &#150; 0.48) = 0.0192 second
<DD><I>R</I> = <I>S</I><SUB><I><SMALL>A</SMALL></I></SUB>/(1 &#150; <I>U</I><SUB><I><SMALL>A</SMALL></I></SUB>) = 0.02/(1 &#150; 0.90) = 0.2 second
<DD><I>R</I> = 16 &#215; 0.0192 &#43; 15 &#215; 0.2 = 3.31 seconds
</DL>
<P>Thus, if we replace the two disks by one, the server response time will degrade by a factor of 3.31/1.406 = 2.35.
</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="34-01.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="34-03.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>

<hr width="90%" size="1" noshade>
<div align="center">
<font face="Verdana,sans-serif" size="1">Copyright &copy; <a href="/reference/wiley00001.html">John Wiley &amp; Sons, Inc.</a></font>
</div>
<!-- all of the reference materials (books) have the footer and subfoot reveresed -->
<!-- reference_subfoot = footer -->
<!-- reference_footer = subfoot -->

</BODY>
</HTML>

<!-- END FOOTER -->

