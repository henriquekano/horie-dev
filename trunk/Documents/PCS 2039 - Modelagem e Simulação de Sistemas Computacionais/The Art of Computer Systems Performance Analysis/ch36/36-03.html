<HTML>
<HEAD>
<META name=vsisbn content="0471503363">
<META name=vstitle content="Art of Computer Systems Performance Analysis Techniques For Experimental Design Measurements Simulation And Modeling">
<META name=vsauthor content="Raj Jain">
<META name=vsimprint content="Wiley Computer Publishing">
<META name=vspublisher content="John Wiley & Sons, Inc.">
<META name=vspubdate content="05/01/91">
<META name=vscategory content="Web and Software Development: Software Engineering: Simulation and Modeling">







<TITLE>The Art of Computer Systems Performance Analysis: Techniques for Experimental Design, Measurement, Simulation, and Modeling:Hierarchical Decomposition of Large Queueing Networks</TITLE>

<!-- HEADER -->

<STYLE type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
</STYLE>

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">

<!--ISBN=0471503363//-->
<!--TITLE=The Art of Computer Systems Performance Analysis: Techniques for Experimental Design, Measurement, Simulation, and Modeling//-->
<!--AUTHOR=Raj Jain//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=36//-->
<!--PAGES=616-620//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="36-02.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="36-04.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>The statistics for service centers in the aggregate subnetwork are obtained using conditional probabilities as follows:
</P>
<DL>
<DD><B>1.</B>&nbsp;&nbsp;<I>Distribution of Number of Jobs</I>: The probability of finding <I>j</I> jobs at the <I>i</I>th device (in the aggregate subnetwork) is given by
<P ALIGN="CENTER"><IMG SRC="images/36-13d.jpg"></P>
</IMGD>
<P ALIGN="RIGHT"> &#215; <I>P</I>(<I>n</I> jobs in aggregate | <I>N</I> jobs in system)]
<P ALIGN="CENTER"><IMG SRC="images/36-14d.jpg"></P>
</IMGD>
<P ALIGN="RIGHT"> &#215; <I>P</I>(<I>n</I> jobs in FEC | <I>N</I> jobs in system)]
</DL>
<DL>
<BR>The mean number of jobs at the <I>i</I>th device is given by
<P><P ALIGN="CENTER"><IMG SRC="images/36-15d.jpg"></P>
</IMGD>
<DD><B>2.</B>&nbsp;&nbsp;<I>Throughput</I>: Throughputs of various devices are proportional to their visit ratios. Thus, the throughput of the <I>i</I>th device in the aggregate subnetwork and that of the <I>j</I>th device in the designated subnetwork are related as follows:
<P ALIGN="CENTER"><IMG SRC="images/36-16d.jpg"></P>
</IMGD>
<BR>Here, <I>X</I> is the throughput of the combined system and <I>V</I><SUB><SMALL><I>i</I></SMALL></SUB> and <I>V</I><SUB><SMALL><I>j</I></SMALL></SUB> are the number of times a job visits service centers <I>i</I> and <I>j</I>, respectively.
<DD><B>3.</B>&nbsp;&nbsp;<I>Response Time</I>: The response time can be computed using Little&#146;s law:
<P ALIGN="CENTER"><I>R</I><SUB><SMALL><I>i</I></SMALL></SUB> = <I>Q</I><SUB><SMALL><I>i</I></SMALL></SUB><I>X</I><SUB><SMALL><I>i</I></SMALL></SUB>
<DD><B>4.</B>&nbsp;&nbsp;<I>Utilization</I>: The utilization can be computed using the utilization law:
<P ALIGN="CENTER"><I>U</I><SUB><SMALL><I>i</I></SMALL></SUB> = <I>X</I><SUB><SMALL><I>i</I></SMALL></SUB><I>S</I><SUB><SMALL><I>i</I></SMALL></SUB> = <I>X</I><I>D</I><SUB><SMALL><I>i</I></SMALL></SUB>
</DL>
<BLOCKQUOTE>
<P><B>Example 36.2</B> Consider the central server model of Examples 35.1, 35.3, and 35.4. Let us analyze this model using hierarchical techniques and verify that we obtain the same results. The model, shown again in Figure 36.4a, represents a batch computer system consisting of a processor and two disks.</P>
<P>The degree of multiprogramming is 3.</P>
<P>The service times are</P>
<P ALIGN="CENTER"><I>S</I><SUB><SMALL>CPU</SMALL></SUB> = 0.039, <I>S</I><SUB><SMALL><I>A</I></SMALL></SUB> = 0.18, <I>S</I><SUB><SMALL><I>B</I></SMALL></SUB> = 0.26</P>
<P><A NAME="Fig4"></A><A HREF="javascript:displayWindow('images/36-04.jpg',264,420 )"><IMG SRC="images/36-04t.jpg"></A>
<BR><A HREF="javascript:displayWindow('images/36-04.jpg',264,420)"><FONT COLOR="#000077"><B>FIGURE 36.4</B></FONT></A>&nbsp;&nbsp; Hierarchical decomposition example.</P>
<P>The visit ratios are
</P>
<P ALIGN="CENTER"><I>V</I><SUB><SMALL>CPU</SMALL></SUB> = 13 &#43; 6 &#43; 1= 20, <I>V</I><SUB><SMALL><I>A</I></SMALL></SUB> = 13, <I>V</I><SUB><SMALL><I>B</I></SMALL></SUB> = 6</P>
<P>Total service demands are</P>
<P ALIGN="CENTER"><I>D</I><SUB><SMALL>CPU</SMALL></SUB> = 20 &#215; 0.039 = 0.78</P>
<P ALIGN="CENTER"><I>D</I><SUB><SMALL><I>A</I></SMALL></SUB> = 13 &#215; 0.18 = 2.34</P>
<P ALIGN="CENTER"><I>D</I><SUB><SMALL><I>B</I></SMALL></SUB> = 6 &#215; 0.26 = 1.56</P>
<P>Assuming that we are interested in studying several alternatives for disk B, we choose disk B as the designated subnetwork, set its service time to zero, and obtain the shorted model shown in Figure 36.4b. Although this shorted model can be easily solved using MVA, we will use a convolution algorithm instead so that we can study the distributions of queue lengths also.</P>
<CENTER>
<TABLE WIDTH="50%"><TD CAPTION COLSPAN="3"><B>TABLE 36.1 Computing</B> <I>G</I>(<I>N</I>) <B>for the Shorted Model of Example 36.2</B>
<TR>
<TD COLSPAN="3"><HR>
<TR>
<TD WIDTH="10%" VALIGN="TOP" ALIGN="CENTER"><I>n</SUB></I>
<TD WIDTH="20%" VALIGN="TOP" ALIGN="CENTER"><I>y</I><SUB><SMALL>CPU</SMALL></SUB> = 1
<TD WIDTH="20%" VALIGN="TOP" ALIGN="CENTER"><I>y</I><SUB><SMALL><I>A</I></SMALL></SUB> = 3
<TR>
<TD COLSPAN="3"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">0
<TD VALIGN="TOP" ALIGN="CENTER">1
<TD VALIGN="TOP" ALIGN="CENTER">1
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">1
<TD VALIGN="TOP" ALIGN="CENTER">1
<TD VALIGN="TOP" ALIGN="CENTER">4
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">2
<TD VALIGN="TOP" ALIGN="CENTER">1
<TD VALIGN="TOP" ALIGN="CENTER">13
<TR>
<TD VALIGN="TOP" ALIGN="CENTER">3
<TD VALIGN="TOP" ALIGN="CENTER">1
<TD VALIGN="TOP" ALIGN="CENTER">40
<TR>
<TD COLSPAN="3"><HR>
</TABLE>
</CENTER>
<P>For the scaling factor, we arbitrarily choose &#945; = 1/0.78. This results in <I>y</I><SUB><SMALL>CPU</SMALL></SUB> = 1 and <I>Y</I><SUB><SMALL><I>A</I></SMALL></SUB> = 3. The computation of the normalizing constant <I>G</I>(<I>N</I>) is shown in Table 36.1.</P>
<P>From the table, we see that <I>G</I>(0) = 1, <I>G</I>(1) = 4, <I>G</I>(2) = 13, and <I>G</I>(3) = 40. The system throughputs for various degrees of multiprogramming are</P>
<P ALIGN="CENTER"><IMG SRC="images/36-17d.jpg"></P>
</IMGD>
<P>The probability of <I>j</I> jobs at disk A when there are <I>n</I> jobs in the shorted model is given by</P>
<P ALIGN="CENTER"><IMG SRC="images/36-18d.jpg"></P>
</IMGD>
<P>The probabilities so computed are listed in Table 36.2.
</P>
<P>We replace the aggregate subnetwork by an FEC and obtain an equivalent network, as shown in Figure 36.4c. It consists of just two service centers: disk B and an FEC. The first service center has a service time of <I>S</I><SUB><SMALL><I>B</I></SMALL></SUB> = 0.26 second and a visit ratio of <I>V</I><SUB><SMALL><I>B</I></SMALL></SUB> = 6. The FEC is a load-dependent service center with a visit ratio of 1 and service rates identical to the throughputs of the shorted model. That is,</P>
<P ALIGN="CENTER"><I>&#181;</I>(1) = 0.321, <I>&#181;</I>(2) = 0.394, <I>&#181;</I>(3) = 0.417</P>
<CENTER>
<TABLE WIDTH="70%"><TH CAPTION ALIGN="LEFT" COLSPAN="5">TABLE 36.2 Queue Length Probabilities for Disk A of Example 36.2
<TR>
<TD COLSPAN="5"><HR>
<TR>
<TD ALIGN="LEFT" VALIGN="TOP">
<TH COLSPAN="4" ALIGN="CENTER" VALIGN="TOP"><I>n</I><SUB><SMALL><I>A</I></SMALL></SUB>
<TR>
<TD>
<TD COLSPAN="4"><HR>
<TR>
<TH WIDTH="10%" VALIGN="TOP" ALIGN="LEFT"><I>n</I>
<TH WIDTH="10%" VALIGN="TOP" ALIGN="LEFT">0
<TH WIDTH="10%" VALIGN="TOP" ALIGN="LEFT">1
<TH WIDTH="10%" VALIGN="TOP" ALIGN="LEFT">2
<TH WIDTH="10%" VALIGN="TOP" ALIGN="LEFT">3
<TR>
<TD COLSPAN="5"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT">1
<TD VALIGN="TOP" ALIGN="LEFT">0.250
<TD VALIGN="TOP" ALIGN="LEFT">0.750
<TD VALIGN="TOP" ALIGN="LEFT">
<TD VALIGN="TOP" ALIGN="LEFT">
<TR>
<TD VALIGN="TOP" ALIGN="LEFT">2
<TD VALIGN="TOP" ALIGN="LEFT">0.077
<TD VALIGN="TOP" ALIGN="LEFT">0.231
<TD VALIGN="TOP" ALIGN="LEFT">0.692
<TD VALIGN="TOP" ALIGN="LEFT">
<TR>
<TD VALIGN="TOP" ALIGN="LEFT">3
<TD VALIGN="TOP" ALIGN="LEFT">0.025
<TD VALIGN="TOP" ALIGN="LEFT">0.075
<TD VALIGN="TOP" ALIGN="LEFT">0.225
<TD VALIGN="TOP" ALIGN="LEFT">0.675
<TR>
<TD COLSPAN="5"><HR>
</TABLE>
</CENTER>
<P>We have already solved this model in Example 36.1. The following results obtained for disk B (since it is in the designated subnetwork) and the system as a whole are still valid:
</P>
<DL>
<DD><B>1.</B>&nbsp;&nbsp;The system throughput is 0.21, 0.31, and 0.36 job/second with one, two, and three jobs in the system, respectively.
<DD><B>2.</B>&nbsp;&nbsp;The system response times are 4, 68, 6.54, and 8.42 seconds for <I>N</I> = 1, 2, 3, respectively.
<DD><B>3.</B>&nbsp;&nbsp;The mean queue length for disk B with <I>N</I> = 3 is 0.91.
<DD><B>4.</B>&nbsp;&nbsp;The mean response time for disk B with <I>N</I> = 3 is 0.43 second.
<DD><B>5.</B>&nbsp;&nbsp;The utilization of disk B with <I>N</I> = 3 is 0.562.
</DL>
<P>As a check, we verify that these are identical to those obtained for the original network in Example 35.4 without decomposition.
</P>
<P>Obtaining performance statistics for queues in the aggregate subnetwork requires further work.</P>
<P>From Example 36.1, we know that when the degree of multiprogramming <I>N</I> is 3, the probabilities of zero, one, two, and three jobs at the FEC are 0.09, 0.18, 0.29, and 0.44, respectively. These values along with those listed in Table 36.2 allow us to compute the queue length distribution for disk A as follows:</P>
<P><I>P</I>(<I>n</I><SUB><SMALL><I>A</I></SMALL></SUB> = 0 | <I>N</I> = 3) = <I>P</I>(<I>n</I><SUB><SMALL><I>A</I></SMALL></SUB> = 0 | <I>n</I> = 0)<I>P</I>(<I>n</I> = 0 | <I>N</I> = 3)</P>
<P ALIGN="CENTER">&#43;<I>P</I>(<I>n</I><SUB><SMALL><I>A</I></SMALL></SUB> = 0 | <I>n</I> = 1)<I>P</I>(<I>n</I> = 1 | <I>N</I> = 3)</P>
<P ALIGN="CENTER">&#43;<I>P</I>(<I>n</I>=0|<I>n</I><SUB><SMALL><I>A</I></SMALL></SUB> = 2)<I>P</I>(<I>n</I> = 2 | <I>N</I> = 3)</P>
<P ALIGN="CENTER">&#43;<I>P</I>(<I>n</I><SUB><SMALL><I>A</I></SMALL></SUB> = 0 | <I>n</I> = 3)<I>P</I>(<I>n</I> = 3 | <I>N</I> = 3)</P>
<P ALIGN="CENTER">= 1 &#215; 0.09 &#43; 0.250 &#215; 0.18 &#43; 0.077 &#215; 0.29 &#43; 0.025 &#215; 0.44</P>
<P ALIGN="CENTER">= 0.166</P>
<P>Similarly,</P>
<DL>
<DD><I>P</I>(<I>n</I><SMALL><SUB><I>A</I></SUB></SMALL> = 1 | <I>N</I> = 3) = 0.750 &#215; 0.18 &#43; 0.231 &#215; 0.29 &#43; 0.075 &#215; 0.44 = 0.233
<DD><I>P</I>(<I>n</I><SMALL><SUB><I>A</I></SUB></SMALL> = 2 | <I>N</I> = 3) = 0.692 &#215; 0.29 &#43; 0.225 &#215; 0.44 = 0.3
<DD><I>P</I>(<I>n</I><SMALL><SUB><I>A</I></SUB></SMALL> = 3 | <I>N</I> = 3) = 0.675 &#215; 0.44 = 0.3
</DL>
<P>Once again, we check that these probabilities are the same as those obtained in Example 35.4.
</P>
<P>The mean number of jobs at disk A can be computed from the queue length distribution:</P>
<P><P ALIGN="CENTER"><IMG SRC="images/36-19d.jpg"></P>
</IMGD></P>
<P>Similarly, <I>Q</I><SUB><SMALL>CPU</SMALL></SUB> can be shown to be 0.36 job.</P>
<P>The CPU and disk A throughputs using the forced flow law are</P>
<P ALIGN="CENTER"><I>X</I><SMALL><SUB>CPU</SUB></SMALL> = <I>XV</I><SMALL><SUB>CPU</SUB></SMALL> = 0.36 &#215; 20 = 7.2 jobs/second</P>
<P ALIGN="CENTER"><I>X</I><SMALL><SUB><I>A</I></SUB></SMALL> = <I>XV</I><SMALL><SUB><I>A</I></SUB></SMALL> = 0.36 &#215; 13 = 4.68 jobs/second</P>
<P>The CPU and disk A utilizations using the utilization law are</P>
<P ALIGN="CENTER"><I>U</I><SMALL><SUB>CPU</SUB></SMALL> = <I>X</I><I>D</I><SMALL><SUB>CPU</SUB></SMALL> = 0.36 &#215; 0.78 = 0.281</P>
<P ALIGN="CENTER"><I>U</I><SMALL><SUB><I>A</I></SUB></SMALL> = <I>X</I><I>D</I><SMALL><SUB><I>A</I></SUB></SMALL> = 0.36 &#215; 2.34 = 0.843</P>
<P>The CPU and disk A response times using Little&#146;s law are</P>
<P ALIGN="CENTER"><I>R</I><SMALL><SUB>CPU</SUB></SMALL> = <I>Q</I><SMALL><SUB>CPU</SUB></SMALL>/<I>X</I><SMALL><SUB>CPU</SUB></SMALL> = 0.36/7.2 = 0.05 second</P>
<P ALIGN="CENTER"><I>R</I><SMALL><SUB><I>A</I></SUB></SMALL> = <I>Q</I><SMALL><SUB><I>A</I></SUB></SMALL>/<I>X</I><SMALL><SUB><I>A</I></SUB></SMALL> = 1.73/4.68 = 0.37 second</P>
<P>Before leaving this example, we must remind the reader of the necessity of using the correct visit ratios <I>V</I><SMALL><SUB><I>B</I></SUB></SMALL> = 6 and <I>V</I><SMALL><SUB>FEC</SUB></SMALL> = 1. This is also the reason for the extra link around disk B in Figure 36.4c. Without this link, it is impossible for a job to make six visits to disk B while making just one visit to the FEC.</P>
</BLOCKQUOTE><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="36-02.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="36-04.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>

<hr width="90%" size="1" noshade>
<div align="center">
<font face="Verdana,sans-serif" size="1">Copyright &copy; <a href="/reference/wiley00001.html">John Wiley &amp; Sons, Inc.</a></font>
</div>
<!-- all of the reference materials (books) have the footer and subfoot reveresed -->
<!-- reference_subfoot = footer -->
<!-- reference_footer = subfoot -->

</BODY>
</HTML>

<!-- END FOOTER -->

