<HTML>
<HEAD>
<META name=vsisbn content="0471503363">
<META name=vstitle content="Art of Computer Systems Performance Analysis Techniques For Experimental Design Measurements Simulation And Modeling">
<META name=vsauthor content="Raj Jain">
<META name=vsimprint content="Wiley Computer Publishing">
<META name=vspublisher content="John Wiley & Sons, Inc.">
<META name=vspubdate content="05/01/91">
<META name=vscategory content="Web and Software Development: Software Engineering: Simulation and Modeling">







<TITLE>The Art of Computer Systems Performance Analysis: Techniques for Experimental Design, Measurement, Simulation, and Modeling:Hierarchical Decomposition of Large Queueing Networks</TITLE>

<!-- HEADER -->

<STYLE type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
</STYLE>

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">

<!--ISBN=0471503363//-->
<!--TITLE=The Art of Computer Systems Performance Analysis: Techniques for Experimental Design, Measurement, Simulation, and Modeling//-->
<!--AUTHOR=Raj Jain//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=36//-->
<!--PAGES=608-613//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="../ch35/35-05.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="36-02.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<H2><A NAME="Heading1"></A><FONT COLOR="#000077">CHAPTER 36<BR>HIERARCHICAL DECOMPOSITION OF LARGE QUEUEING NETWORKS
</FONT></H2>
<BLOCKQUOTE>
<P><I>People would rather live with a problem they cannot solve than accept a solution they cannot understand.</I></P>
<P ALIGN="RIGHT">&#151;Woolsey and Swanson (1975)</P>
</BLOCKQUOTE><P>The queueing network modeling techniques presented so far are sufficient to solve a large number of performance problems. One technique that is useful in modeling large systems but has not been covered is hierarchical decomposition. This technique, which is the main topic of this chapter, allows a large queueing network to be decomposed in smaller networks. Since the technique involves using load-dependent servers, an extension of MVA to handle such servers is presented first in Section 36.1. Hierarchical decomposition is explained in Section 36.2. Finally, Section 36.3 discusses current limitations of queueing theory as applied to computer systems modeling.
</P>
<H3><A NAME="Heading2"></A><FONT COLOR="#000077">36.1 LOAD-DEPENDENT SERVICE CENTERS</FONT></H3>
<P>A load-dependent service center is one whose service rate varies with the load, that is, the number of jobs in the center. For example, a disk subsystem with <I>m</I> disk drives sharing a single queue of requests may be represented by an <I>m</I>-server center whose service rate <I>&#181;</I>(<I>n</I>) varies with the number of requests n as follows:</P>
<P ALIGN="CENTER"><IMG SRC="images/36-01d.jpg"></P>
</IMGD>
<P>Here, <I>S</I> is the service time per request when there is only one request in the subsystem. This is similar to the M/M/<I>m</I> queue discussed earlier in Section 31.3 except that the arrivals may not be Poisson.</P>
<P>Mean-value analysis, as described earlier in Section 34.2, is applicable only for networks with fixed-capacity service centers and delay centers. (Strictly speaking, delay centers are also load dependent since their service rate is proportional to the number of jobs.) The analysis actually applies to a more general class of service centers and jobs. In particular, it can easily be extended to load-dependent service centers. Recall that MVA consists of three equations corresponding to computing the response time, throughput, and queue length. The throughput equation for a system with load-dependent service centers is identical to that presented earlier in Equation (34.4). The response time and queue length equations are different and are presented here.</P>
<P>For load-dependent service centers, the queue length distribution (rather than the mean queue length) is important since the service rate is a function of the queue length. Let <I>p</I><SUB><SMALL><I>i</I></SMALL></SUB>(<I>j</I> | <I>n</I>) denote the probability of finding <I>j</I> jobs at the <I>i</I>th device when there are <I>n</I> jobs in the system. Let <I>&#181;</I><SUB><SMALL><I>i</I></SMALL></SUB>(<I>j</I>) be the service rate of the <I>i</I>th device when there are <I>j</I> jobs at the device. The response time at the device for a job arriving when there are already <I>j</I> &#150; 1 jobs in the system (total <I>j</I> jobs including the one just arriving) is <I>j</I> / <I>&#181;</I><SUB><SMALL><I>i</I></SMALL></SUB>(<I>j</I>). The mean response time per visit is therefore given by</P>
<P ALIGN="CENTER"><IMG SRC="images/36-02d.jpg"></P>
</IMGD>
<P>The probability <I>p</I><I>i</I>(<I>j</I> | <I>n</I>) of <I>j</I> jobs at the <I>i</I>th service center when there are n jobs in the system is computed as follows:</P>
<P ALIGN="CENTER"><IMG SRC="images/36-03d.jpg"></P>
</IMGD>
<P>The mean queue length <I>Q</I><SUB><SMALL><I>i</I></SMALL></SUB>(<I>n</I>) at the <I>i</I>th device when there are <I>n</I> jobs in the system is given by</P>
<P ALIGN="CENTER"><IMG SRC="images/36-04d.jpg"></P>
</IMGD>
<P>It is easy to see that the preceding equations reduce to those for fixed-capacity service centers if we substitute <I>&#181;</I><SUB><SMALL><I>i</I></SMALL></SUB>(<I>n</I>) = 1/<I>S</I><SUB><SMALL><I>i</I></SMALL></SUB>, where <I>S</I><SUB><SMALL><I>i</I></SMALL></SUB> is the service time per visit.</P>
<P>The complete MVA algorithm including fixed-capacity service centers, delay centers, and load-dependent service centers is summarized in Box 36.1.</P>
<BLOCKQUOTE><P><B>Example 36.1</B> Consider the simple network of two service centers shown in Figure 36.1. The first service center, labeled &#147;Disk B&#148;, is a fixed-capacity</P>

<TABLE BORDER="2" BORDERCOLOR="#0000" ALIGN="CENTER">
<TR><TD>
<P><B>Box 36.1 MVA Including Load-dependent Centers</B></P>
<DL>
<DD>Inputs:
<DD><I>Z</I> = think time
<DD><I>S</I><SUB><SMALL><I>i</I></SMALL></SUB> = service time per visit to the <I>i</I>th device
<DD><I>V</I><SUB><SMALL><I>i</I></SMALL></SUB> = number of visits to the <I>i</I>th device
<DD><I>M</I> = number of devices (not including terminals)
<DD><I>N</I> = number of users
<DD><I>&#181;</I><SUB><SMALL><I>i</I></SMALL></SUB>(<I>j</I>) = service rate of the <I>i</I>th center when there are <I>j</I> jobs in it
</DL>
<DL>
<DD>Outputs:
<DD><I>X</I> = system throughput
<DD><I>Q</I><SUB><SMALL><I>i</I></SMALL></SUB> = average number of jobs at the <I>i</I>th device
<DD><I>R</I><SUB><SMALL><I>i</I></SMALL></SUB> = response time of the <I>i</I>th device
<DD><I>R</I> = system response time
<DD><I>U</I><SUB><SMALL><I>i</I></SUB></SMALL> = utilization of the <I>i</I>th device
<DD><I>P</I><SUB><SMALL><I>i</I></SMALL></SUB>(<I>j</I>) = probability of <I>j</I> jobs at the <I>i</I>th center
</DL>
<DL>
<DD>Initialization:
<DD><P ALIGN="CENTER"><IMG SRC="images/36-05d.jpg"></P>
</IMGD>
</DL>
<DL>
<DD>Iterations:
<DD>FOR <I>n</I> = 1 TO <I>N</I> DO
<DD>BEGIN
<P ALIGN="CENTER"><IMG SRC="images/36-06d.jpg"></P>
</IMGD>
</DL>
</TABLE>

<P><A NAME="Fig1"></A><A HREF="javascript:displayWindow('images/36-01.jpg',539,420 )"><IMG SRC="images/36-01t.jpg"></A>
<BR><A HREF="javascript:displayWindow('images/36-01.jpg',539,420)"><FONT COLOR="#000077"><B>FIGURE 36.1</B></FONT></A>&nbsp;&nbsp; Queueing network model with a load-dependent server.</P>
<P>service center. The mean service time per visit for this center is 0.26 second and each job makes six visits to this center. The second center, labeled &#147;FEC&#148; (or <B>Flow-Equivalent Center</B>) is a load-dependent service center. It is visited once by each job. Its service rate <I>&#181;</I>(<I>n</I>), as a function of number of jobs <I>n</I> in the service center, is given by</P>
<P ALIGN="CENTER"><I>&#181;</I>(1) = 0.32 job/second</P>
<P ALIGN="CENTER"><I>&#181;</I>(2) = 0.39 job/second</P>
<P ALIGN="CENTER"><I>&#181;</I>(3) = 0.42 job/second</P>
<P>To analyze this network using MVA for load-dependent service centers, we proceed as follows:</P>
<P>Initialization:</P>
<P ALIGN="CENTER"><I>Q</I><SUB><SMALL><I>B</I></SMALL></SUB>(0) = 0, <I>P</I>(0 | 0) = 1</P>
<P><I>Iteration 1</I></P>
<P>Device response times:</P>
<P ALIGN="CENTER"><I>R</I><SUB><SMALL><I>B</I></SMALL></SUB>(1) = <I>S</I><SUB><SMALL><I>B</I></SMALL></SUB>[1 &#43; <I>Q</I><SUB><SMALL><I>B</I></SMALL></SUB>(0)] = 0.26</P>
<P ALIGN="CENTER"><IMG SRC="images/36-07d.jpg"></P>
</IMGD>
<P>System response time:
</P>
<P ALIGN="CENTER"><I>R</I>(1) = <I>R</I>B(1)<I>V</I><SUB><SMALL><I>B</I></SMALL></SUB> &#43; <I>R</I><SUB><SMALL><I>FEC</I></SMALL></SUB>(1)<I>V</I><SUB><SMALL><I><SUB><SMALL><I>FEC</I></SMALL></SUB></I></SMALL></SUB> = 0.26 &#215; 6 &#43; 3.13 4.68</P>
<P>System throughput:</P>
<P ALIGN="CENTER"><I>X</I>(1) = <I>N</I>/<I>R</I>(1) = 1/4.68 = 0.21</P>
<P>Queue lengths and probabilities:</P>
<P ALIGN="CENTER"><I>Q</I><SUB><SMALL><I>B</I></SMALL></SUB>(1) = <I>X</I>(1)<I>R</I><SUB><SMALL><I>B</I></SMALL></SUB>(1)<I>V</I><SUB><SMALL><I>FEC</I></SMALL></SUB> = 0.21 &#215; 6 = 0.33</P>
<P ALIGN="CENTER"><IMG SRC="images/36-08d.jpg"></P>
</IMGD>
<P ALIGN="CENTER"><I>P</I>(0 | 1) = 1 &#150; <I>P</I>(1 | 1) = 1 &#150; 0.67 = 0.33</P>
<P><I>Iteration 2</I></P>
<P>Device response times:</P>
<P ALIGN="CENTER"><I>R</I><SUB><SMALL><I>B</I></SMALL></SUB>(2) = <I>S</I><SUB><SMALL><I>B</I></SMALL></SUB>[1 &#43; <I>Q</I><SUB><SMALL><I>B</I></SMALL></SUB>(1)] = 0.26(1 &#43; 0.33) = 0.35</P>
<P ALIGN="CENTER"><IMG SRC="images/36-09d.jpg"></P>
</IMGD>
<P>System response time:
</P>
<P ALIGN="CENTER"><I>R</I>(2) = <I>R</I><SUB><SMALL><I>B</I></SMALL></SUB>(2)<I>V</I><SUB><SMALL><I>B</I></SMALL></SUB> &#43; <I>R</I><SUB><SMALL><I>FEC</I></SMALL></SUB>(2)<I>V</I><SUB><SMALL><I>FEC</I></SMALL></SUB> = 0.35 &#215; 6 &#43; 4.46 = 6.54</P>
<P>System throughput:</P>
<P ALIGN="CENTER"><I>X</I>(2) = <I>N</I> / <I>R</I>(2) = 2/6.54 = 0.31</P>
<P>Queue lengths and probabilities:</P>
<P ALIGN="CENTER"><I>Q</I><SUB><SMALL><I>B</I></SMALL></SUB>(2) = <I>X</I>(2)<I>R</I><SUB><SMALL><I>B</I></SMALL></SUB>(2)<I>V</I><SUB><SMALL><I>B</I></SMALL></SUB> = 0.31 &#215; 0.35 &#215; 6 = 0.64</P>
<P ALIGN="CENTER"><IMG SRC="images/36-10d.jpg"></P>
</IMGD>
<P ALIGN="CENTER"><I>P</I>(0 | 2) = 1 &#150; <I>P</I>(1 | 2) = 1 &#150; 0.52 &#150; 0.32 = 0.16</P>
<P><I>Iteration 3</I></P>
<P>Device response times:</P>
<P ALIGN="CENTER"><I>R</I><SUB><SMALL><I>B</I></SMALL></SUB>(3) = <I>S</I><SUB><SMALL><I>B</I></SMALL></SUB>(1 &#43; <I>Q</I><SUB><SMALL><I>B</I></SMALL></SUB>(2)) = 0.26(1 &#43; 0.64) = 0.43</P>
<P ALIGN="CENTER"><IMG SRC="images/36-11d.jpg"></P>
</IMGD>
<P>System response time:
</P>
<P ALIGN="CENTER"><I>R</I>(3) = <I>R</I><SUB><SMALL><I>B</I></SMALL></SUB>(3)<I>V</I><SUB><SMALL><I>B</I></SMALL></SUB> &#43; <I>R</I><SUB><SMALL><I>FEC</I></SMALL></SUB>(3)<I>V</I><SUB><SMALL><I>FEC</I></SMALL></SUB> = 0.43 &#215; 6 &#43; 5.86 = 8.42</P>
<P>System throughput:</P>
<P ALIGN="CENTER"><I>X</I>(3) = <I>N</I> / <I>R</I>(3) = 3/8.42 = 0.36</P>
<P>Queue lengths and probabilities:</P>
<P ALIGN="CENTER"><I>Q</I><SUB><SMALL><I>B</I></SMALL></SUB>(3) = <I>X</I>(3)<I>R</I><SUB><SMALL><I>B</I></SMALL></SUB>(3)<I>V</I><SUB><SMALL><I>B</I></SMALL></SUB> = 0.36 &#215; 0.43 &#215; 6 = 0.91</P>
<P ALIGN="CENTER"><IMG SRC="images/36-12d.jpg"></P>
</IMGD>
<P ALIGN="CENTER"><I>P</I>(0 | 3) = 1 &#150; <I>P</I>(1 | 3) &#150; <I>P</I>(2 | 3) &#150; <I>P</I>(3 | 3) = 1 &#150; 0.44 &#150;0.29 &#150; 0.18 = 0.09</P>
<P>The device throughputs with <I>N</I> = 3 are</P>
<P ALIGN="CENTER"><I>X</I><SUB><SMALL><I>B</I></SMALL></SUB> = <I>X</I><I>V</I><SUB><SMALL><I>B</I></SMALL></SUB> = 0.36 &#215; 6 = 2.16 jobs/second</P>
<P ALIGN="CENTER"><I>X</I><SUB><SMALL><I>FEC</I></SMALL></SUB> = <I>X</I><I>V</I><SUB><SMALL><I>FEC</I></SMALL></SUB> = 0.36 &#215; 1 = 0.36 job/second</P>
<P>The device utilizations with <I>N</I> = 3 are</P>
<P ALIGN="CENTER"><I>U</I><SUB><SMALL><I>B</I></SMALL></SUB> = <I>X</I><I>S</I><SUB><SMALL><I>B</I></SMALL></SUB><I>V</I><SUB><SMALL><I>B</I></SMALL></SUB> = 0.36 &#215; 0.26 &#215; 6 = 0.562</P>
<P ALIGN="CENTER"><I>U</I><SUB><SMALL><I>FEC</I></SMALL></SUB> = 1&#150; <I>P</I>(0 | 3) = 1 &#150; 0.09 = 0.91</P>
<P>Thus, we can say the following about this system:</P>
<DL>
<DD><B>1.</B>&nbsp;&nbsp;The system throughput is 0.21, 0.31, and 0.36 job/second with one, two, and three jobs in the system, respectively.
<DD><B>2.</B>&nbsp;&nbsp;The system response time is 4.68, 6.54, and 8.42 seconds for <I>N</I> = 1, 2, 3, respectively.
<DD><B>3.</B>&nbsp;&nbsp;The mean queue length for disk B with <I>N</I> = 3 is 0.91.
<DD><B>4.</B>&nbsp;&nbsp;The mean response time for disk B with <I>N</I> = 3 is 0.43 second.
<DD><B>5.</B>&nbsp;&nbsp;The utilization of disk B with <I>N</I> = 3 is 0.562.
<DD><B>6.</B>&nbsp;&nbsp;The probabilities of zero, one, two, and three jobs in the second device with <I>N</I> = 3 are 0.09, 0.18, 0.29, and 0.44, respectively.
</DL>
<P>We will make use of these results later in Example 36.2.
</P>
</BLOCKQUOTE><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="../ch35/35-05.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="36-02.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>

<hr width="90%" size="1" noshade>
<div align="center">
<font face="Verdana,sans-serif" size="1">Copyright &copy; <a href="/reference/wiley00001.html">John Wiley &amp; Sons, Inc.</a></font>
</div>
<!-- all of the reference materials (books) have the footer and subfoot reveresed -->
<!-- reference_subfoot = footer -->
<!-- reference_footer = subfoot -->

</BODY>
</HTML>

<!-- END FOOTER -->

